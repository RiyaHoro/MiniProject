{%load static%}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      body {
        background-image: url("{% static 'Images/image1.jpg' %}");
        background-repeat: no-repeat;
        background-attachment: fixed;
        background-size: cover;
      }

      .main {
        position: relative;
        width: 90%; /* Take most of the screen width */
        max-width: 550px; /* Limit max width for large screens */
        background-color: #ffffff;
        border-radius: 10px;
        padding: 5%;
        margin: 10% auto; /* Center it horizontally */
        text-align: center;
      }

      table {
        width: 100%;
      }

      td {
        padding: 10px;
      }

      input[type="text"] {
        width: 100%; /* Full width for responsiveness */
        padding: 8px;
        font-size: 16px;
        border-radius: 5px;
      }

      input[type="submit"],
      input[type="reset"] {
        width: 100%; /* Full-width buttons */
        padding: 10px;
        margin-top: 10px;
        border-radius: 5px;
      }

      /* Make it more mobile-friendly */
      @media (max-width: 600px) {
        .main {
          padding: 8%;
          margin: 5% auto;
        }

        h1 {
          font-size: 24px;
        }

        input[type="submit"],
        input[type="reset"] {
        font-size: 16px;
        background-color: #003366;
        transition: 0.3s;
        }
      }
    </style>
  </head>
  <body>
    <div align="center" class="main">
      <h1>Please enter the following information:</h1>
      <form action="result" method="GET">
        <table>
          <tr>
            <td align="right">Pregnancies:</td>
            <td align="left">
              <input type="text" name="n1" value="{{ request.GET.n1 }}" />
            </td>
          </tr>

          <tr>
            <td align="right">Glucose:</td>
            <td align="left">
              <input type="text" name="n2" value="{{ request.GET.n2 }}" />
            </td>
          </tr>

          <tr>
            <td align="right">Blood Pressure:</td>
            <td align="left">
              <input type="text" name="n3" value="{{ request.GET.n3 }}" />
            </td>
          </tr>

          <tr>
            <td align="right">Skin Thickness:</td>
            <td align="left">
              <input type="text" name="n4" value="{{ request.GET.n4 }}" />
            </td>
          </tr>

          <tr>
            <td align="right">Insulin:</td>
            <td align="left">
              <input type="text" name="n5" value="{{ request.GET.n5 }}" />
            </td>
          </tr>
          <tr>
            <td align="right">BMI:</td>
            <td align="left">
              <input type="text" name="n6" value="{{ request.GET.n6 }}" />
            </td>
          </tr>

          <tr>
            <td align="right">Diabetes Pedigree function:</td>
            <td align="left">
              <input type="text" name="n7" value="{{ request.GET.n7 }}" />
            </td>
          </tr>

          <tr>
            <td align="right">Age:</td>
            <td align="left">
              <input type="text" name="n8" value="{{ request.GET.n8 }}" />
            </td>
          </tr>
        </table>

        <!-- Submit and Reset Buttons -->
        <input type="submit" value="Submit" />
        <input type="reset" value="Reset" onclick="resetForm(event)" />
      </form>

      <!-- JavaScript for Reset Functionality -->
      <script>
        function resetForm(event) {
          event.preventDefault(); // Prevent default form reset behavior

          // Clear all input fields
          let inputs = document.querySelectorAll('input[type="text"]');
          inputs.forEach((input) => (input.value = ""));

          // Clear the result text
          let resultElement = document.getElementById("result");
          if (resultElement) {
            resultElement.innerText = "";
          }

          // Remove query parameters from URL to clear retained Django values
          window.history.replaceState(
            {},
            document.title,
            window.location.pathname
          );
        }
      </script>

      <p
        style="
          font-size: 24px;
          font-weight: bold;
          color: #0086b3;
          margin-top: 15px;
        "
        id="result"
      >
        Result: {{ result2 }}
      </p>
    </div>
  </body>
</html>
